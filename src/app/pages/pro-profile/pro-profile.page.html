<ion-content *ngIf="!isLoading">
  <ion-list class="ion-no-padding">
    <ion-item class="ion-no-padding header-img-div" >
      <div *ngIf="images.length > 0" class="cover-img-div" [style.background-image]="'url('+images[0].path+')'">
        <div class="cover-img-mask">
          <ion-grid>
            <ion-row class="ion-justify-content-center ion-align-items-center" style="margin-top: 20px;">
              <ion-col size="2" class="ion-text-center">
                <!-- <ion-icon name="arrow-back-outline" style="color: white; font-size: 28px;" (click)="back()"></ion-icon> -->
              </ion-col>
              <ion-col size="8" class="ion-text-center">
                <ion-label style="color: white; font-size: 18px;">Profile Information</ion-label>
              </ion-col>  
              <ion-col size="2" class="ion-text-center">
                <ion-icon name="menu-outline" style="color: white; font-size: 28px;" (click)="openMenu()"></ion-icon>
              </ion-col>                          
            </ion-row>
          </ion-grid>
        </div>
      </div>
      <div *ngIf="images.length == 0" class="cover-img-div" style="background-image: url(../../../assets/imgs/nocover.png);" >
        <div class="cover-img-mask">
          <ion-grid>
            <ion-row class="ion-justify-content-center ion-align-items-center" style="margin-top: 20px;">
              <ion-col size="2" class="ion-text-center">
                <ion-icon name="arrow-back-outline" style="color: white; font-size: 28px;" (click)="back()"></ion-icon>
              </ion-col>
              <ion-col size="8" class="ion-text-center">
                <ion-label style="color: white; font-size: 18px;">Profile Information</ion-label>
              </ion-col>  
              <ion-col size="2" class="ion-text-center">
                <ion-icon name="menu-outline" style="color: white; font-size: 28px;" (click)="openMenu()"></ion-icon>
              </ion-col>                          
            </ion-row>
          </ion-grid>
        </div>
      </div>   
    </ion-item>
  </ion-list>
  <form class="form" [formGroup]="validationsform" (ngSubmit)="tryUpdateProfile(validationsform.value)">

  <ion-card class="profile-card">
    <ion-card-header style="margin-top: 70px;">
      <ion-card-title style="margin-bottom: 10px; text-align: center;">${{balance ? balance : '0.00'}}</ion-card-title>
      <div class="rating-div" *ngIf="!isLoading && pro_userProfile != undefined">
        <ionic5-star-rating #rating
          activeIcon = "star"
          defaultIcon = "star-outline"
          activeColor = "#f7c00b" 
          defaultColor = "grey"
          readonly="true"
          halfStar="true"
          fontSize = "32px"
          rating={{pro_userProfile.rating}}
        >
        </ionic5-star-rating>
      </div>
      <ion-card-title>{{fullName}}</ion-card-title>

    </ion-card-header>
    <ion-card-content style="width: 100%;">
      <ion-grid class="ion-no-padding">
        <ion-row class="ion-justify-content-center ion-align-items-center ion-no-padding">
          <ion-col size="12">
            <ion-item mode="md">
              <ion-icon name="logo-usd" size="small" slot="start"></ion-icon>
              <ion-input class="ion-text-left" placeholder="Service price" formControlName="service_price"></ion-input>
            </ion-item> 
          </ion-col>
         </ion-row>       
         <ion-row class="ion-justify-content-center ion-align-items-center avatar-row">
          <ion-col size="12">
              <ion-item mode="md">
                <ion-icon name="mail-outline" size="small" slot="start"></ion-icon>
                <ion-input class="ion-text-left" placeholder="Contact email address" formControlName="contact_email"></ion-input>
              </ion-item> 
              <ion-item mode="md">
                <ion-icon name="call-outline" size="small" slot="start"></ion-icon>
                <ion-input class="ion-text-left" placeholder="Contact phone number" formControlName="phone"></ion-input>
              </ion-item> 
          </ion-col>
         </ion-row>  
      </ion-grid>    
      <ion-button  class="updateprofile-button" mode="ios" type="submit" fill="solid"  [disabled]="!validationsform.valid" size="default" shape="round" expand="block">
        Update Profile
      </ion-button>
    </ion-card-content>
  </ion-card>
  </form>  
  <ion-button  class="other-button" mode="ios" fill="solid" shape="round" expand="full" [routerLink]="['/rating-list']">
    <span class="span-left">Ratings</span>
    <span class="span-right"><ion-icon name="chevron-forward-outline"></ion-icon></span>
  </ion-button>
  <ion-button  class="other-button" mode="ios" shape="round" fill="solid" expand="full" [routerLink]="['/pro-tablinks/pro-services']">
    <span class="span-left">Service Request</span>
    <span class="span-right"><ion-icon name="chevron-forward-outline"></ion-icon></span>
  </ion-button>
  <ion-button  class="other-button" mode="ios" shape="round" fill="solid" expand="full" [routerLink]="['/pro-tablinks/pro-home']">
    <span class="span-left">Video Archives</span>
    <span class="span-right"><ion-icon name="chevron-forward-outline"></ion-icon></span>
  </ion-button>
  <ion-button  class="other-button" mode="ios" shape="round" fill="solid" expand="full"  [routerLink]="['/pro-tablinks/payout-view']">
    <span class="span-left">Pay Wall</span>
    <span class="span-right"><ion-icon name="chevron-forward-outline"></ion-icon></span>
  </ion-button>    
  <ion-avatar class="profile-avatar-div" (click)="selectImage()">
    <ion-img *ngIf="images.length > 0 && !isLoading" [src]="images[0].path"></ion-img>
    <ion-img *ngIf="images.length == 0 && !isLoading" src="../../assets/imgs/profile.jpg" ></ion-img>
  </ion-avatar>
</ion-content>
